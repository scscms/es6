<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>es6-number</title>
    <script src="bin/traceur.js" type="text/javascript"></script>
    <script src="bin/bootstrap.js" type="text/javascript"></script>
</head>
<body>
<h2>Set</h2>
<p>回顾Object与Array基础知识、属性名\是否可重复值或键名</p>
<script type="text/javascript">
    var a = new Set([1,2,2,3,4,4,5]);
    console.log(a.size);//5
    for(let i of a){
        console.log(i);//1,2,3,4,5
    }
</script>
<h2>Set属性和方法</h2>
<script type="text/javascript">
    var s = new Set();
    s.add(1).add(2).add(2); // 注意2被加入了两次
    s.size; // 2
    s.has(1); // true
    s.has(2); // true
    s.has(3); // false
    s.delete(2);
    s.has(2); // false
</script>
<h2>Set遍历操作</h2>
<script type="text/javascript">
    let set = new Set(['red', 'green', 'blue']);
    for ( let item of set.values() ){
        console.log(item);
    }
    //等同于
    for (let x of set) {
        console.log(x);
    }
</script>
<h2>WeakSet</h2>
<script type="text/javascript">
    var ws = new WeakSet();
    var obj = {};
    var foo = {};
    ws.add(window);
    ws.add(obj);
    ws.has(window); // true
    ws.has(foo);    // false, 对象 foo 并没有被添加进 ws 中
    ws.delete(window); // 从集合中删除 window 对象
    ws.has(window);    // false, window 对象已经被删除了
    ws.clear(); // 清空整个 WeakSet 对象
</script>

<h2>Map</h2>
<script type="text/javascript">
    var girlfriend = {99:"秋香",66:"度娘",0:"如花"};
    for(var i in girlfriend){
        console.log("约会：" + i,girlfriend[i]);
    }

    let sweetheart = new Map();
    sweetheart.set("99","秋香");
    sweetheart.set("66","度娘");
    sweetheart.set("0","如花");
    for(let [k,v] of sweetheart.entries()){
        console.log("约会：",k,v);
    }
    //hasOwnProperty
</script>
<h2>WeakMap</h2>
<script type="text/javascript">
    var wm = new WeakMap();
    var element = document.querySelector(".element");
    wm.set(element, "Original");
    wm.get(element); // "Original"
    element.parentNode.removeChild(element);
    element = null;
    wm.get(element); // undefined
</script>
</body>
</html>